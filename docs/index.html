<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Compass ‚Äî Bring Claude Code to Slack</title>
  <meta name="description" content="Bring a workforce of Claude Codes to your Slack workspace. Per-thread AI coding sessions with full local filesystem access.">
  <link rel="icon" type="image/png" href="assets/compass-icon.png">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: {
            sans: ['Inter', '-apple-system', 'BlinkMacSystemFont', 'sans-serif'],
            mono: ['JetBrains Mono', 'monospace'],
          },
          colors: {
            apple: {
              blue: '#007AFF',
              indigo: '#5856D6',
              purple: '#AF52DE',
              pink: '#FF2D55',
              gray: {
                50: '#F9FAFB',
                100: '#F2F2F7',
                200: '#E5E5EA',
                300: '#D1D1D6',
                400: '#AEAEB2',
                500: '#8E8E93',
                600: '#636366',
                700: '#48484A',
                800: '#2C2C2E',
                900: '#1C1C1E',
              }
            }
          }
        }
      }
    }
  </script>
  <style>
    * { -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; }

    .glass-nav {
      background: rgba(255, 255, 255, 0.72);
      backdrop-filter: saturate(180%) blur(20px);
      -webkit-backdrop-filter: saturate(180%) blur(20px);
    }

    .hero-gradient {
      background: linear-gradient(180deg, #f5f5f7 0%, #ffffff 100%);
    }

    .text-gradient {
      background: linear-gradient(90deg, #007AFF 0%, #5856D6 25%, #AF52DE 50%, #5856D6 75%, #007AFF 100%);
      background-size: 200% 100%;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      animation: shimmer-gradient 3s ease-in-out infinite;
    }

    .card-glass {
      background: rgba(255, 255, 255, 0.6);
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
    }

    .screenshot-shadow {
      box-shadow:
        0 2px 4px rgba(0, 0, 0, 0.04),
        0 8px 16px rgba(0, 0, 0, 0.06),
        0 24px 48px rgba(0, 0, 0, 0.08);
    }

    .feature-card-hover {
      transition: transform 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94), box-shadow 0.3s ease;
    }
    .feature-card-hover:hover {
      transform: translateY(-4px);
      box-shadow: 0 12px 40px rgba(0, 0, 0, 0.08);
    }

    .flow-connector {
      width: 40px;
      height: 2px;
      background: linear-gradient(90deg, #D1D1D6, #AEAEB2);
    }

    .install-box {
      background: #1C1C1E;
      transition: box-shadow 0.2s ease;
    }
    .install-box:hover {
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
    }

    .step-number {
      background: linear-gradient(135deg, #007AFF, #5856D6);
    }

    .section-fade {
      opacity: 0;
      transform: translateY(30px);
      transition: opacity 0.6s ease, transform 0.6s ease;
    }
    .section-fade.visible {
      opacity: 1;
      transform: translateY(0);
    }

    .config-row {
      transition: background 0.15s ease;
    }
    .config-row:hover {
      background: #F9FAFB;
    }

    .thinking-status {
      display: inline-flex;
      align-items: center;
      gap: 10px;
      background: transparent;
      padding: 8px 16px 8px 10px;
    }
    .thinking-icon {
      width: 28px;
      height: 28px;
      opacity: 0.7;
    }
    .thinking-name {
      font-weight: 600;
      font-size: 14px;
      background: linear-gradient(90deg, #B8B0D0 0%, #8B7FC7 20%, #AF52DE 40%, #8B7FC7 60%, #B8B0D0 80%, #8B7FC7 100%);
      background-size: 200% 100%;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      animation: shimmer-gradient 2s ease-in-out infinite;
    }
    @keyframes shimmer-gradient {
      0% { background-position: 100% 0; }
      100% { background-position: -100% 0; }
    }
    .thinking-text {
      font-size: 14px;
      color: #8E8E93;
      min-width: 140px;
    }
    @keyframes thinking-fade {
      0%, 100% { opacity: 0; transform: translateY(4px); }
      10%, 90% { opacity: 1; transform: translateY(0); }
    }
    .thinking-text span {
      display: none;
    }
    .thinking-text span.active {
      display: inline;
      animation: thinking-fade 2.5s ease-in-out;
    }

    /* Card deck */
    .deck-container {
      position: relative;
      width: 100%;
      max-width: 520px;
      margin: 0 auto;
      height: 380px;
    }
    .slack-thread {
      background: #fff;
      border: 1px solid #e5e5ea;
      border-radius: 16px;
      padding: 16px 20px;
      font-family: 'Inter', -apple-system, sans-serif;
      width: 100%;
      overflow: hidden;
      text-align: left;
      position: absolute;
      top: 0;
      left: 0;
      transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.6s ease, box-shadow 0.6s ease;
      transform-origin: center top;
    }
    .slack-thread[data-deck="0"] {
      z-index: 4;
      transform: translateY(0) scale(1);
      opacity: 1;
      box-shadow: 0 4px 24px rgba(0,0,0,0.10);
    }
    .slack-thread[data-deck="1"] {
      z-index: 3;
      transform: translateY(12px) scale(0.96);
      opacity: 0.7;
      box-shadow: 0 2px 12px rgba(0,0,0,0.06);
    }
    .slack-thread[data-deck="2"] {
      z-index: 2;
      transform: translateY(24px) scale(0.92);
      opacity: 0.45;
      box-shadow: 0 1px 6px rgba(0,0,0,0.04);
    }
    .slack-thread[data-deck="3"] {
      z-index: 1;
      transform: translateY(36px) scale(0.88);
      opacity: 0.25;
      box-shadow: none;
    }
    /* Exit animation: front card flies up and fades out */
    .slack-thread.deck-exit {
      transform: translateY(-30px) scale(0.95) !important;
      opacity: 0 !important;
      z-index: 5 !important;
      transition: transform 0.45s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.45s ease;
    }
    .slack-thread-bar {
      display: flex;
      align-items: center;
      gap: 6px;
      padding-bottom: 10px;
      margin-bottom: 4px;
      border-bottom: 1px solid #F2F2F7;
      font-size: 13px;
      font-weight: 600;
      color: #1C1C1E;
    }
    .slack-thread-bar span {
      color: #8E8E93;
      font-weight: 400;
      font-size: 12px;
    }
    .sl-row {
      display: flex;
      gap: 10px;
      padding: 8px 0;
      opacity: 0;
      transform: translateY(8px);
      transition: opacity 0.35s ease, transform 0.35s ease;
    }
    .sl-row.visible {
      opacity: 1;
      transform: translateY(0);
    }
    .sl-avatar {
      width: 32px;
      height: 32px;
      border-radius: 6px;
      flex-shrink: 0;
      object-fit: cover;
    }
    .sl-avatar-placeholder {
      width: 32px;
      height: 32px;
      border-radius: 6px;
      flex-shrink: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 14px;
      font-weight: 700;
      color: #fff;
    }
    .sl-content {
      flex: 1;
      min-width: 0;
    }
    .sl-meta {
      display: flex;
      align-items: center;
      gap: 8px;
      margin-bottom: 2px;
    }
    .sl-name {
      font-weight: 700;
      font-size: 14px;
      color: #1C1C1E;
    }
    .sl-badge {
      font-size: 9px;
      font-weight: 700;
      color: #636366;
      background: #F2F2F7;
      border-radius: 3px;
      padding: 1px 4px;
      text-transform: uppercase;
      letter-spacing: 0.3px;
    }
    .sl-time {
      font-size: 11px;
      color: #AEAEB2;
    }
    .sl-text {
      font-size: 13px;
      color: #1C1C1E;
      line-height: 1.45;
    }
    .sl-mention {
      color: #1264A3;
      background: #E8F5FA;
      border-radius: 3px;
      padding: 0 3px;
      font-weight: 500;
    }
    .sl-step {
      display: flex;
      align-items: center;
      gap: 7px;
      padding: 6px 10px;
      border: 1px solid #E5E5EA;
      border-radius: 8px;
      margin-top: 5px;
      margin-bottom: 4px;
      font-size: 12px;
      color: #48484A;
      opacity: 0;
      transform: translateY(4px);
      transition: opacity 0.35s ease, transform 0.35s ease;
    }
    .sl-step.visible {
      opacity: 1;
      transform: translateY(0);
    }
    .sl-step-check {
      color: #34C759;
      width: 16px;
      height: 16px;
      flex-shrink: 0;
    }
    @keyframes spin-step {
      to { transform: rotate(360deg); }
    }
    .sl-spinner {
      width: 16px;
      height: 16px;
      border: 2px solid #E5E5EA;
      border-top-color: #8E8E93;
      border-radius: 50%;
      animation: spin-step 0.8s linear infinite;
      flex-shrink: 0;
    }
    .sl-step-text {
      flex: 1;
      min-width: 0;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
    }
    .sl-chevron {
      color: #AEAEB2;
      flex-shrink: 0;
      width: 14px;
      height: 14px;
    }
    .sl-step-detail {
      font-size: 10px;
      color: #8E8E93;
      padding: 2px 10px 2px 33px;
      line-height: 1.35;
      margin-top: -2px;
      margin-bottom: 4px;
      opacity: 0;
      max-height: 0;
      overflow: hidden;
      transition: opacity 0.3s ease, max-height 0.4s ease;
    }
    .sl-step-detail.visible {
      opacity: 1;
      max-height: 60px;
    }
    .sl-step-star {
      color: #AF52DE;
      font-size: 10px;
      flex-shrink: 0;
      font-weight: 700;
    }

    @media (max-width: 768px) {
      .flow-connector { display: none; }
      .screenshot-row { flex-direction: column !important; }
      .deck-container { height: 340px; }
      .slack-thread { padding: 12px 14px; }
    }
  </style>
</head>
<body class="font-sans text-apple-gray-900 bg-white antialiased">

  <!-- Nav -->
  <nav class="glass-nav fixed top-3 left-1/2 -translate-x-1/2 z-50 border border-apple-gray-200/60 rounded-2xl max-w-4xl w-[calc(100%-2rem)]">
    <div class="px-6 h-12 flex items-center justify-between">
      <a href="#" class="text-base font-semibold tracking-tight flex items-center gap-2 text-apple-gray-900 no-underline">
        <img src="assets/compass-icon.png" alt="Compass" class="w-6 h-6"> Compass
      </a>
      <div class="flex items-center gap-6">
        <a href="#features" class="hidden sm:block text-sm text-apple-gray-600 hover:text-apple-gray-900 no-underline transition-colors">Features</a>
        <a href="#screenshots" class="hidden sm:block text-sm text-apple-gray-600 hover:text-apple-gray-900 no-underline transition-colors">Screenshots</a>
        <a href="#setup" class="hidden sm:block text-sm text-apple-gray-600 hover:text-apple-gray-900 no-underline transition-colors">Setup</a>
        <a href="https://www.npmjs.com/package/compass-agent" class="hidden sm:block text-sm text-apple-gray-600 hover:text-apple-gray-900 no-underline transition-colors">npm</a>
        <a href="https://github.com/raja-jamwal/compass" class="inline-flex items-center gap-1.5 text-sm font-medium text-white bg-apple-gray-900 hover:bg-apple-gray-800 px-4 py-1.5 rounded-full no-underline transition-colors">
          <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg>
          GitHub
        </a>
        <a href="https://www.linkedin.com/in/rajajamwal/" class="inline-flex items-center gap-1.5 text-sm font-medium text-white bg-[#0A66C2] hover:bg-[#004182] px-4 py-1.5 rounded-full no-underline transition-colors">
          <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433a2.062 2.062 0 01-2.063-2.065 2.064 2.064 0 112.063 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/></svg>
          LinkedIn
        </a>
      </div>
    </div>
  </nav>

  <!-- Hero -->
  <section class="hero-gradient pt-32 pb-20 sm:pt-40 sm:pb-28">
    <div class="max-w-4xl mx-auto px-6 text-center">
      <div class="flex gap-2 justify-center mb-8 flex-wrap">
        <a href="https://github.com/raja-jamwal/compass/actions/workflows/test.yml"><img src="https://github.com/raja-jamwal/compass/actions/workflows/test.yml/badge.svg" alt="Tests"></a>
        <a href="https://github.com/raja-jamwal/compass/actions/workflows/publish.yml"><img src="https://github.com/raja-jamwal/compass/actions/workflows/publish.yml/badge.svg" alt="Publish"></a>
        <a href="https://www.npmjs.com/package/compass-agent"><img src="https://img.shields.io/npm/v/compass-agent" alt="npm version"></a>
      </div>

      <h1 class="text-5xl sm:text-7xl font-extrabold tracking-tight leading-[1.05] mb-6">
        Bring your workforce of<br>
        <span class="text-gradient">Claude Code to Slack</span>
      </h1>

      <div class="flex justify-end mr-4 sm:mr-12 mb-6 -mt-1">
        <div class="thinking-status">
          <img src="assets/compass-icon.png" alt="" class="thinking-icon">
          <span class="thinking-name">compass</span>
          <span class="thinking-text" id="thinking-text">
            <span>Thinking...</span>
            <span>Reading files...</span>
            <span>Writing code...</span>
            <span>Running tests...</span>
            <span>Searching codebase...</span>
            <span>Editing app.ts...</span>
            <span>Creating PR...</span>
          </span>
        </div>
      </div>

      <p class="text-lg sm:text-xl text-apple-gray-500 max-w-2xl mx-auto mb-10 leading-relaxed font-light">
        Every thread becomes an isolated coding session ‚Äî with its own working directory, git worktree, and full local filesystem access. Your whole team, working in parallel, zero conflicts.
      </p>

      <div class="flex flex-col sm:flex-row gap-3 justify-center items-center mb-16">
        <div id="install-cmd" class="install-box rounded-xl px-5 py-3 flex items-center gap-3 cursor-pointer select-none">
          <span class="text-apple-gray-500 font-mono text-sm select-none">$</span>
          <span class="text-green-400 font-mono text-sm sm:text-base">bunx compass-agent</span>
          <span id="copy-icon" class="text-apple-gray-500 text-xs ml-2 transition-all">
            <svg class="w-4 h-4" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"/><path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1"/></svg>
          </span>
        </div>
        <a href="https://github.com/raja-jamwal/compass" class="inline-flex items-center gap-2 bg-apple-blue hover:bg-blue-600 text-white font-semibold text-sm px-7 py-3 rounded-full no-underline transition-colors shadow-lg shadow-blue-500/20">
          View on GitHub
          <svg class="w-4 h-4" fill="none" stroke="currentColor" stroke-width="2.5" viewBox="0 0 24 24"><path d="M5 12h14m-7-7l7 7-7 7"/></svg>
        </a>
        <a href="https://www.youtube.com/watch?v=EH_9WAe-PZA" class="inline-flex items-center gap-2 bg-red-600 hover:bg-red-700 text-white font-semibold text-sm px-7 py-3 rounded-full no-underline transition-colors shadow-lg shadow-red-500/20">
          <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24"><path d="M23.498 6.186a3.016 3.016 0 00-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 00.502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 002.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 002.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/></svg>
          Watch Demo
        </a>
      </div>

      <div class="relative max-w-5xl mx-auto">
        <div class="absolute -inset-4 bg-gradient-to-b from-apple-blue/5 to-apple-purple/5 rounded-3xl blur-2xl"></div>
        <div class="relative deck-container" id="hero-deck">

          <!-- Thread 1: Sub-agent execution -->
          <div class="slack-thread screenshot-shadow" id="anim-thread-1">
            <div class="slack-thread-bar">
              # eng-team <span>Thread</span>
            </div>

            <div class="sl-row" data-delay="200">
              <div class="sl-avatar-placeholder" style="background:#E8A0BF">S</div>
              <div class="sl-content">
                <div class="sl-meta"><span class="sl-name">Sarah</span> <span class="sl-time">10:41 AM</span></div>
                <div class="sl-text">The streaming handler and DB schema need a refactor before we ship v2</div>
              </div>
            </div>

            <div class="sl-row" data-delay="1200">
              <div class="sl-avatar-placeholder" style="background:#7EB8DA">M</div>
              <div class="sl-content">
                <div class="sl-meta"><span class="sl-name">Mike</span> <span class="sl-time">10:42 AM</span></div>
                <div class="sl-text"><span class="sl-mention">@compass</span> research the streaming handler and database schema, find what needs to change</div>
              </div>
            </div>

            <div class="sl-row" data-delay="2400">
              <img src="assets/compass-icon.png" alt="" class="sl-avatar">
              <div class="sl-content">
                <div class="sl-meta"><span class="sl-name">compass</span> <span class="sl-badge">App</span> <span class="sl-time">10:42 AM</span></div>
                <div class="sl-text">I'll explore the src/ directory and research both topics in parallel.</div>
                <div class="sl-step" data-delay="3000" data-complete="4000">
                  <svg class="sl-step-check" style="display:none" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/></svg>
                  <div class="sl-spinner"></div>
                  <span class="sl-step-text">Thinking</span>
                  <svg class="sl-chevron" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M19 9l-7 7-7-7"/></svg>
                </div>
                <div class="sl-step" data-delay="4200" data-complete="5400">
                  <svg class="sl-step-check" style="display:none" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/></svg>
                  <div class="sl-spinner"></div>
                  <span class="sl-step-text">Run: ls -la src/handlers/</span>
                  <svg class="sl-chevron" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M19 9l-7 7-7-7"/></svg>
                </div>
                <div class="sl-step" data-delay="5200">
                  <div class="sl-spinner"></div>
                  <span class="sl-step-text">Sub-agent: Research streaming handler</span>
                  <svg class="sl-chevron" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M19 9l-7 7-7-7"/></svg>
                </div>
                <div class="sl-step" data-delay="5500">
                  <div class="sl-spinner"></div>
                  <span class="sl-step-text">Sub-agent: Research database schema</span>
                  <svg class="sl-chevron" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M19 9l-7 7-7-7"/></svg>
                </div>
              </div>
            </div>
          </div>

          <!-- Thread 2: Planning mode -->
          <div class="slack-thread screenshot-shadow" id="anim-thread-2">
            <div class="slack-thread-bar">
              # backend <span>Thread</span>
            </div>

            <div class="sl-row" data-delay="400">
              <div class="sl-avatar-placeholder" style="background:#A8D8B9">A</div>
              <div class="sl-content">
                <div class="sl-meta"><span class="sl-name">Alex</span> <span class="sl-time">2:15 PM</span></div>
                <div class="sl-text">API responses are getting slow, we should add caching</div>
              </div>
            </div>

            <div class="sl-row" data-delay="1600">
              <div class="sl-avatar-placeholder" style="background:#D4A574">J</div>
              <div class="sl-content">
                <div class="sl-meta"><span class="sl-name">Jamie</span> <span class="sl-time">2:16 PM</span></div>
                <div class="sl-text"><span class="sl-mention">@compass</span> plan a caching strategy for our API. Explore the codebase first, don't write code yet.</div>
              </div>
            </div>

            <div class="sl-row" data-delay="2800">
              <img src="assets/compass-icon.png" alt="" class="sl-avatar">
              <div class="sl-content">
                <div class="sl-meta"><span class="sl-name">compass</span> <span class="sl-badge">App</span> <span class="sl-time">2:16 PM</span></div>
                <div class="sl-text">Let me explore the codebase to understand where caching would be most impactful.</div>
                <div class="sl-step" data-delay="3400">
                  <div class="sl-spinner"></div>
                  <span class="sl-step-text">Planning...</span>
                  <svg class="sl-chevron" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M19 9l-7 7-7-7"/></svg>
                </div>
                <div class="sl-step" data-delay="4200">
                  <span class="sl-step-star">*</span>
                  <span class="sl-step-text">Sub-agent: Explore API calls and caching</span>
                  <svg class="sl-chevron" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M19 9l-7 7-7-7"/></svg>
                </div>
                <div class="sl-step-detail" data-delay="4800">
                  Reading: routes/api.ts, lib/fetch.ts<br>
                  Finding: src/**/*.ts
                </div>
                <div class="sl-step" data-delay="5000">
                  <span class="sl-step-star">*</span>
                  <span class="sl-step-text">Sub-agent: Explore db.ts and data patterns</span>
                  <svg class="sl-chevron" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M19 9l-7 7-7-7"/></svg>
                </div>
                <div class="sl-step-detail" data-delay="5600">
                  Reading: db.ts<br>
                  Searching: {getSession|queryCache}
                </div>
              </div>
            </div>
          </div>

          <!-- Thread 3: Legal domain -->
          <div class="slack-thread screenshot-shadow" id="anim-thread-3">
            <div class="slack-thread-bar">
              # legal-ops <span>Thread</span>
            </div>

            <div class="sl-row" data-delay="300">
              <div class="sl-avatar-placeholder" style="background:#C9A0DC">R</div>
              <div class="sl-content">
                <div class="sl-meta"><span class="sl-name">Rachel</span> <span class="sl-time">9:10 AM</span></div>
                <div class="sl-text">We need to review the new EU AI Act compliance requirements before the board meeting</div>
              </div>
            </div>

            <div class="sl-row" data-delay="1400">
              <div class="sl-avatar-placeholder" style="background:#F0C987">D</div>
              <div class="sl-content">
                <div class="sl-meta"><span class="sl-name">David</span> <span class="sl-time">9:11 AM</span></div>
                <div class="sl-text"><span class="sl-mention">@compass</span> research EU AI Act obligations for our SaaS platform, cross-reference with our internal compliance docs and draft a gap analysis</div>
              </div>
            </div>

            <div class="sl-row" data-delay="2600">
              <img src="assets/compass-icon.png" alt="" class="sl-avatar">
              <div class="sl-content">
                <div class="sl-meta"><span class="sl-name">compass</span> <span class="sl-badge">App</span> <span class="sl-time">9:11 AM</span></div>
                <div class="sl-text">I'll research the regulatory requirements and cross-reference with your internal policies.</div>
                <div class="sl-step" data-delay="3200" data-complete="4200">
                  <svg class="sl-step-check" style="display:none" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/></svg>
                  <div class="sl-spinner"></div>
                  <span class="sl-step-text">Planning...</span>
                  <svg class="sl-chevron" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M19 9l-7 7-7-7"/></svg>
                </div>
                <div class="sl-step" data-delay="4400">
                  <div class="sl-spinner"></div>
                  <span class="sl-step-text">Web search: EU AI Act SaaS obligations 2026</span>
                  <svg class="sl-chevron" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M19 9l-7 7-7-7"/></svg>
                </div>
                <div class="sl-step" data-delay="5000">
                  <span class="sl-step-star">*</span>
                  <span class="sl-step-text">Sub-agent: Search internal KB for compliance</span>
                  <svg class="sl-chevron" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M19 9l-7 7-7-7"/></svg>
                </div>
                <div class="sl-step-detail" data-delay="5500">
                  Reading: policies/ai-governance.md<br>
                  Reading: policies/data-processing.md
                </div>
                <div class="sl-step" data-delay="5800">
                  <div class="sl-spinner"></div>
                  <span class="sl-step-text">Sub-agent: Draft gap analysis report</span>
                  <svg class="sl-chevron" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M19 9l-7 7-7-7"/></svg>
                </div>
              </div>
            </div>
          </div>

          <!-- Thread 4: Equity research -->
          <div class="slack-thread screenshot-shadow" id="anim-thread-4">
            <div class="slack-thread-bar">
              # equity-research <span>Thread</span>
            </div>

            <div class="sl-row" data-delay="500">
              <div class="sl-avatar-placeholder" style="background:#87CEEB">P</div>
              <div class="sl-content">
                <div class="sl-meta"><span class="sl-name">Priya</span> <span class="sl-time">3:30 PM</span></div>
                <div class="sl-text">We need a deep dive on NVDA before the earnings call next week</div>
              </div>
            </div>

            <div class="sl-row" data-delay="1700">
              <div class="sl-avatar-placeholder" style="background:#98D4BB">T</div>
              <div class="sl-content">
                <div class="sl-meta"><span class="sl-name">Tom</span> <span class="sl-time">3:31 PM</span></div>
                <div class="sl-text"><span class="sl-mention">@compass</span> run a full equity analysis on NVDA ‚Äî PESTEL, fundamentals, competitive moat. Pull latest filings and macro data.</div>
              </div>
            </div>

            <div class="sl-row" data-delay="2900">
              <img src="assets/compass-icon.png" alt="" class="sl-avatar">
              <div class="sl-content">
                <div class="sl-meta"><span class="sl-name">compass</span> <span class="sl-badge">App</span> <span class="sl-time">3:31 PM</span></div>
                <div class="sl-text">I'll run a comprehensive analysis across macro, fundamentals, and competitive positioning.</div>
                <div class="sl-step" data-delay="3500" data-complete="4500">
                  <svg class="sl-step-check" style="display:none" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/></svg>
                  <div class="sl-spinner"></div>
                  <span class="sl-step-text">Planning...</span>
                  <svg class="sl-chevron" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M19 9l-7 7-7-7"/></svg>
                </div>
                <div class="sl-step" data-delay="4700">
                  <span class="sl-step-star">*</span>
                  <span class="sl-step-text">Sub-agent: PESTEL macro analysis</span>
                  <svg class="sl-chevron" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M19 9l-7 7-7-7"/></svg>
                </div>
                <div class="sl-step-detail" data-delay="5200">
                  Web search: NVDA regulatory export controls<br>
                  Web search: semiconductor industry outlook 2026
                </div>
                <div class="sl-step" data-delay="5400">
                  <span class="sl-step-star">*</span>
                  <span class="sl-step-text">Sub-agent: Fundamental analysis &amp; DCF</span>
                  <svg class="sl-chevron" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M19 9l-7 7-7-7"/></svg>
                </div>
                <div class="sl-step-detail" data-delay="5900">
                  Reading: SEC 10-K filing, revenue segments<br>
                  Calculating: FCF yield, P/E vs peers
                </div>
                <div class="sl-step" data-delay="6100">
                  <div class="sl-spinner"></div>
                  <span class="sl-step-text">Sub-agent: Competitive moat assessment</span>
                  <svg class="sl-chevron" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M19 9l-7 7-7-7"/></svg>
                </div>
              </div>
            </div>
          </div>

        </div>
      </div>
    </div>
  </section>

  <!-- How it works -->
  <section id="how-it-works" class="py-24 bg-white section-fade">
    <div class="max-w-5xl mx-auto px-6">
      <div class="text-center mb-16">
        <p class="text-sm font-semibold text-apple-blue uppercase tracking-wider mb-3">How it works</p>
        <h2 class="text-3xl sm:text-4xl font-bold tracking-tight mb-4">Local-first, zero infrastructure</h2>
        <p class="text-lg text-apple-gray-500 max-w-xl mx-auto font-light">Runs on your machine using Slack's Socket Mode. No servers to deploy, no URLs to expose.</p>
      </div>

      <div class="flex items-center justify-center flex-wrap gap-4">
        <div class="card-glass border border-apple-gray-200 rounded-2xl p-6 text-center min-w-[150px] feature-card-hover">
          <div class="text-3xl mb-2">üí¨</div>
          <div class="font-semibold text-sm">Slack Thread</div>
          <div class="text-xs text-apple-gray-500 mt-1">You send a message</div>
        </div>
        <div class="flow-connector hidden sm:block"></div>
        <div class="card-glass border border-apple-gray-200 rounded-2xl p-6 text-center min-w-[150px] feature-card-hover">
          <div class="text-3xl mb-2">üîå</div>
          <div class="font-semibold text-sm">Socket Mode</div>
          <div class="text-xs text-apple-gray-500 mt-1">Bot receives locally</div>
        </div>
        <div class="flow-connector hidden sm:block"></div>
        <div class="card-glass border border-apple-gray-200 rounded-2xl p-6 text-center min-w-[150px] feature-card-hover">
          <div class="text-3xl mb-2">ü§ñ</div>
          <div class="font-semibold text-sm">Claude CLI</div>
          <div class="text-xs text-apple-gray-500 mt-1">Spawns a session</div>
        </div>
        <div class="flow-connector hidden sm:block"></div>
        <div class="card-glass border border-apple-gray-200 rounded-2xl p-6 text-center min-w-[150px] feature-card-hover">
          <div class="text-3xl mb-2">üìÇ</div>
          <div class="font-semibold text-sm">Filesystem</div>
          <div class="text-xs text-apple-gray-500 mt-1">Reads & writes files</div>
        </div>
      </div>
    </div>
  </section>

  <!-- Features -->
  <section id="features" class="py-24 bg-apple-gray-50 section-fade">
    <div class="max-w-5xl mx-auto px-6">
      <div class="text-center mb-16">
        <p class="text-sm font-semibold text-apple-indigo uppercase tracking-wider mb-3">Features</p>
        <h2 class="text-3xl sm:text-4xl font-bold tracking-tight mb-4">Everything your team needs</h2>
        <p class="text-lg text-apple-gray-500 max-w-xl mx-auto font-light">Built for real development workflows, not demos.</p>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5">
        <div class="bg-white border border-apple-gray-200 rounded-2xl p-7 feature-card-hover">
          <div class="w-10 h-10 rounded-xl bg-blue-50 flex items-center justify-center text-xl mb-4">üßµ</div>
          <h3 class="text-base font-semibold mb-2">Per-thread sessions</h3>
          <p class="text-sm text-apple-gray-500 leading-relaxed">Every thread is an independent Claude session. Follow-up messages resume with full context using <code class="text-xs bg-apple-gray-100 text-apple-indigo px-1.5 py-0.5 rounded font-mono">--resume</code>.</p>
        </div>

        <div class="bg-white border border-apple-gray-200 rounded-2xl p-7 feature-card-hover">
          <div class="w-10 h-10 rounded-xl bg-indigo-50 flex items-center justify-center text-xl mb-4">üìÅ</div>
          <h3 class="text-base font-semibold mb-2"><code class="text-sm bg-apple-gray-100 text-apple-indigo px-1.5 py-0.5 rounded font-mono">$cwd</code> Working directory</h3>
          <p class="text-sm text-apple-gray-500 leading-relaxed">Set the directory Claude works in. Interactive picker remembers recent directories, or set directly with a path.</p>
        </div>

        <div class="bg-white border border-apple-gray-200 rounded-2xl p-7 feature-card-hover">
          <div class="w-10 h-10 rounded-xl bg-purple-50 flex items-center justify-center text-xl mb-4">üéì</div>
          <h3 class="text-base font-semibold mb-2"><code class="text-sm bg-apple-gray-100 text-apple-indigo px-1.5 py-0.5 rounded font-mono">$teach</code> Team knowledge</h3>
          <p class="text-sm text-apple-gray-500 leading-relaxed">Store conventions injected into every session. "Use TypeScript", "Always write tests" ‚Äî shared across your workspace.</p>
        </div>

        <div class="bg-white border border-apple-gray-200 rounded-2xl p-7 feature-card-hover">
          <div class="w-10 h-10 rounded-xl bg-orange-50 flex items-center justify-center text-xl mb-4">‚ö°</div>
          <h3 class="text-base font-semibold mb-2">Streaming responses</h3>
          <p class="text-sm text-apple-gray-500 leading-relaxed">Token-by-token streaming via Slack's native <code class="text-xs bg-apple-gray-100 text-apple-indigo px-1.5 py-0.5 rounded font-mono">chatStream</code> API. Tool calls render as a live agentic timeline.</p>
        </div>

        <div class="bg-white border border-apple-gray-200 rounded-2xl p-7 feature-card-hover">
          <div class="w-10 h-10 rounded-xl bg-green-50 flex items-center justify-center text-xl mb-4">üå≥</div>
          <h3 class="text-base font-semibold mb-2">Git worktree isolation</h3>
          <p class="text-sm text-apple-gray-500 leading-relaxed">Each thread gets its own worktree and branch. Parallel sessions make code changes without conflicts. Auto-cleanup after 24h.</p>
        </div>

        <div class="bg-white border border-apple-gray-200 rounded-2xl p-7 feature-card-hover">
          <div class="w-10 h-10 rounded-xl bg-pink-50 flex items-center justify-center text-xl mb-4">üìä</div>
          <h3 class="text-base font-semibold mb-2">Dashboard & usage tracking</h3>
          <p class="text-sm text-apple-gray-500 leading-relaxed">App Home shows live stats, recent sessions, cost tracking per invocation. Stop button on every response.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Screenshots -->
  <section id="screenshots" class="py-24 bg-white section-fade">
    <div class="max-w-5xl mx-auto px-6">
      <div class="text-center mb-16">
        <p class="text-sm font-semibold text-apple-purple uppercase tracking-wider mb-3">In action</p>
        <h2 class="text-3xl sm:text-4xl font-bold tracking-tight mb-4">See it working</h2>
      </div>

      <div class="space-y-24">
        <div class="flex flex-col md:flex-row items-center gap-12 screenshot-row">
          <div class="flex-1">
            <div class="relative">
              <div class="absolute -inset-3 bg-gradient-to-br from-blue-100/40 to-indigo-100/40 rounded-3xl blur-xl"></div>
              <img src="assets/streaming-feedback.png" alt="Working directory set in Slack" class="relative w-full rounded-2xl border border-apple-gray-200 screenshot-shadow">
            </div>
          </div>
          <div class="flex-1 max-w-md">
            <div class="w-10 h-10 rounded-xl bg-blue-50 flex items-center justify-center text-xl mb-4">üìÅ</div>
            <h3 class="text-2xl font-bold mb-3 tracking-tight">Set a directory, start coding</h3>
            <p class="text-apple-gray-500 leading-relaxed">Point Claude at any project on your machine. The working directory is stored per-thread, so each conversation is scoped to its own codebase.</p>
          </div>
        </div>

        <div class="flex flex-col md:flex-row-reverse items-center gap-12 screenshot-row">
          <div class="flex-1">
            <div class="relative">
              <div class="absolute -inset-3 bg-gradient-to-br from-purple-100/40 to-pink-100/40 rounded-3xl blur-xl"></div>
              <img src="assets/planning-streaming.png" alt="Streaming with planning and sub-agents" class="relative w-full rounded-2xl border border-apple-gray-200 screenshot-shadow">
            </div>
          </div>
          <div class="flex-1 max-w-md">
            <div class="w-10 h-10 rounded-xl bg-purple-50 flex items-center justify-center text-xl mb-4">‚ö°</div>
            <h3 class="text-2xl font-bold mb-3 tracking-tight">Agentic tool timeline</h3>
            <p class="text-apple-gray-500 leading-relaxed">Watch Claude think, plan, and execute in real-time. Every tool call ‚Äî file reads, edits, shell commands, sub-agents ‚Äî renders as a live progress step.</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Setup -->
  <section id="setup" class="py-24 bg-apple-gray-50 section-fade">
    <div class="max-w-3xl mx-auto px-6">
      <div class="text-center mb-16">
        <p class="text-sm font-semibold text-apple-blue uppercase tracking-wider mb-3">Get started</p>
        <h2 class="text-3xl sm:text-4xl font-bold tracking-tight mb-4">Up and running in 5 minutes</h2>
        <p class="text-lg text-apple-gray-500 max-w-xl mx-auto font-light">Prerequisites: <a href="https://bun.sh" class="text-apple-blue hover:underline">Bun</a>, <a href="https://docs.anthropic.com/en/docs/claude-code" class="text-apple-blue hover:underline">Claude CLI</a>, and a Slack workspace.</p>
      </div>

      <div class="space-y-4">
        <div class="bg-white border border-apple-gray-200 rounded-2xl p-7 pl-20 relative feature-card-hover">
          <div class="step-number absolute left-6 top-7 w-9 h-9 rounded-xl text-white flex items-center justify-center font-bold text-sm">1</div>
          <h3 class="text-base font-semibold mb-2">Create the Slack app</h3>
          <p class="text-sm text-apple-gray-500 leading-relaxed">Go to <a href="https://api.slack.com/apps" class="text-apple-blue hover:underline">api.slack.com/apps</a>, create from manifest using the included <code class="text-xs bg-apple-gray-100 text-apple-indigo px-1.5 py-0.5 rounded font-mono">manifest.yml</code>, and install to your workspace.</p>
        </div>

        <div class="bg-white border border-apple-gray-200 rounded-2xl p-7 pl-20 relative feature-card-hover">
          <div class="step-number absolute left-6 top-7 w-9 h-9 rounded-xl text-white flex items-center justify-center font-bold text-sm">2</div>
          <h3 class="text-base font-semibold mb-2">Configure environment</h3>
          <p class="text-sm text-apple-gray-500 leading-relaxed mb-3">Store your tokens in <code class="text-xs bg-apple-gray-100 text-apple-indigo px-1.5 py-0.5 rounded font-mono">~/.compass/.env</code></p>
          <div class="bg-apple-gray-900 rounded-xl p-4 overflow-x-auto">
            <pre class="text-sm font-mono text-green-400 leading-relaxed">mkdir -p ~/.compass
cat > ~/.compass/.env &lt;&lt; 'EOF'
SLACK_APP_TOKEN=xapp-1-...
SLACK_BOT_TOKEN=xoxb-...
EOF</pre>
          </div>
        </div>

        <div class="bg-white border border-apple-gray-200 rounded-2xl p-7 pl-20 relative feature-card-hover">
          <div class="step-number absolute left-6 top-7 w-9 h-9 rounded-xl text-white flex items-center justify-center font-bold text-sm">3</div>
          <h3 class="text-base font-semibold mb-2">Run</h3>
          <p class="text-sm text-apple-gray-500 leading-relaxed mb-3">One command. No servers, no ngrok.</p>
          <div class="bg-apple-gray-900 rounded-xl p-4">
            <pre class="text-sm font-mono text-green-400">bunx compass-agent</pre>
          </div>
        </div>

        <div class="bg-white border border-apple-gray-200 rounded-2xl p-7 pl-20 relative feature-card-hover">
          <div class="step-number absolute left-6 top-7 w-9 h-9 rounded-xl text-white flex items-center justify-center font-bold text-sm">4</div>
          <h3 class="text-base font-semibold mb-2">Verify</h3>
          <p class="text-sm text-apple-gray-500 leading-relaxed">Open the app in Slack, go to the Home tab, start a thread, set <code class="text-xs bg-apple-gray-100 text-apple-indigo px-1.5 py-0.5 rounded font-mono">$cwd</code>, and ask a question.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Configuration -->
  <section id="config" class="py-24 bg-white section-fade">
    <div class="max-w-3xl mx-auto px-6">
      <div class="text-center mb-16">
        <p class="text-sm font-semibold text-apple-blue uppercase tracking-wider mb-3">Configuration</p>
        <h2 class="text-3xl sm:text-4xl font-bold tracking-tight mb-4">Environment variables</h2>
      </div>

      <div class="bg-white border border-apple-gray-200 rounded-2xl overflow-hidden">
        <table class="w-full text-sm">
          <thead>
            <tr class="border-b border-apple-gray-200 bg-apple-gray-50">
              <th class="text-left px-6 py-3 text-xs font-semibold text-apple-gray-500 uppercase tracking-wider">Variable</th>
              <th class="text-left px-4 py-3 text-xs font-semibold text-apple-gray-500 uppercase tracking-wider w-20"></th>
              <th class="text-left px-6 py-3 text-xs font-semibold text-apple-gray-500 uppercase tracking-wider">Description</th>
            </tr>
          </thead>
          <tbody class="divide-y divide-apple-gray-100">
            <tr class="config-row">
              <td class="px-6 py-4"><code class="text-xs bg-apple-gray-100 text-apple-indigo px-1.5 py-0.5 rounded font-mono">SLACK_APP_TOKEN</code></td>
              <td class="px-4 py-4"><span class="text-xs font-semibold text-orange-500">Required</span></td>
              <td class="px-6 py-4 text-apple-gray-500">App-level token for Socket Mode</td>
            </tr>
            <tr class="config-row">
              <td class="px-6 py-4"><code class="text-xs bg-apple-gray-100 text-apple-indigo px-1.5 py-0.5 rounded font-mono">SLACK_BOT_TOKEN</code></td>
              <td class="px-4 py-4"><span class="text-xs font-semibold text-orange-500">Required</span></td>
              <td class="px-6 py-4 text-apple-gray-500">Bot user OAuth token</td>
            </tr>
            <tr class="config-row">
              <td class="px-6 py-4"><code class="text-xs bg-apple-gray-100 text-apple-indigo px-1.5 py-0.5 rounded font-mono">ALLOWED_USERS</code></td>
              <td class="px-4 py-4"><span class="text-xs text-apple-gray-400">Optional</span></td>
              <td class="px-6 py-4 text-apple-gray-500">Comma-separated Slack user IDs to whitelist</td>
            </tr>
            <tr class="config-row">
              <td class="px-6 py-4"><code class="text-xs bg-apple-gray-100 text-apple-indigo px-1.5 py-0.5 rounded font-mono">CLAUDE_PATH</code></td>
              <td class="px-4 py-4"><span class="text-xs text-apple-gray-400">Optional</span></td>
              <td class="px-6 py-4 text-apple-gray-500">Path to <code class="text-xs bg-apple-gray-100 text-apple-indigo px-1 rounded font-mono">claude</code> binary</td>
            </tr>
            <tr class="config-row">
              <td class="px-6 py-4"><code class="text-xs bg-apple-gray-100 text-apple-indigo px-1.5 py-0.5 rounded font-mono">CLAUDE_ADDITIONAL_ARGS</code></td>
              <td class="px-4 py-4"><span class="text-xs text-apple-gray-400">Optional</span></td>
              <td class="px-6 py-4 text-apple-gray-500">Extra CLI args for every invocation</td>
            </tr>
            <tr class="config-row">
              <td class="px-6 py-4"><code class="text-xs bg-apple-gray-100 text-apple-indigo px-1.5 py-0.5 rounded font-mono">ENV_*</code></td>
              <td class="px-4 py-4"><span class="text-xs text-apple-gray-400">Optional</span></td>
              <td class="px-6 py-4 text-apple-gray-500">Injected into Claude's environment (e.g. <code class="text-xs bg-apple-gray-100 text-apple-indigo px-1 rounded font-mono">ENV_ANTHROPIC_API_KEY</code>)</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="border-t border-apple-gray-200 py-12 bg-apple-gray-50">
    <div class="max-w-5xl mx-auto px-6 text-center">
      <div class="flex gap-8 justify-center mb-6">
        <a href="https://github.com/raja-jamwal/compass" class="text-sm text-apple-gray-500 hover:text-apple-gray-900 no-underline transition-colors">GitHub</a>
        <a href="https://www.npmjs.com/package/compass-agent" class="text-sm text-apple-gray-500 hover:text-apple-gray-900 no-underline transition-colors">npm</a>
        <a href="https://github.com/raja-jamwal/compass/issues" class="text-sm text-apple-gray-500 hover:text-apple-gray-900 no-underline transition-colors">Issues</a>
      </div>
      <p class="text-sm text-apple-gray-400">MIT License</p>
    </div>
  </footer>

  <script>
    // Copy install command
    $('#install-cmd').on('click', function() {
      navigator.clipboard.writeText('bunx compass-agent');
      const $icon = $('#copy-icon');
      $icon.html('<svg class="w-4 h-4 text-green-400" fill="none" stroke="currentColor" stroke-width="2.5" viewBox="0 0 24 24"><path d="M5 13l4 4L19 7"/></svg>');
      setTimeout(() => {
        $icon.html('<svg class="w-4 h-4" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"/><path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1"/></svg>');
      }, 2000);
    });

    // Smooth scroll
    $('a[href^="#"]').on('click', function(e) {
      e.preventDefault();
      const target = $($(this).attr('href'));
      if (target.length) {
        $('html, body').animate({ scrollTop: target.offset().top - 48 }, 500);
      }
    });

    // Scroll fade-in
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('visible');
        }
      });
    }, { threshold: 0.1 });

    $('.section-fade').each(function() {
      observer.observe(this);
    });

    // Card deck + step animation
    (function() {
      var deck = document.getElementById('hero-deck');
      var cards = Array.from(deck.querySelectorAll('.slack-thread'));
      var order = cards.map(function(_, i) { return i; }); // [0,1,2,3]
      var CARD_DISPLAY_TIME = 7000; // ms each card is on top
      var animTimers = [];

      function assignPositions() {
        cards.forEach(function(card, i) {
          var pos = order.indexOf(i);
          card.setAttribute('data-deck', pos);
          card.classList.remove('deck-exit');
        });
      }

      function resetCard(card) {
        card.querySelectorAll('.sl-row').forEach(function(r) { r.classList.remove('visible'); });
        card.querySelectorAll('.sl-step').forEach(function(s) {
          s.classList.remove('visible');
          var spinner = s.querySelector('.sl-spinner');
          var check = s.querySelector('.sl-step-check');
          if (spinner) spinner.style.display = '';
          if (check) check.style.display = 'none';
        });
        card.querySelectorAll('.sl-step-detail').forEach(function(d) { d.classList.remove('visible'); });
      }

      function animateCard(card) {
        // Clear any pending timers
        card.querySelectorAll('.sl-row').forEach(function(row) {
          var delay = parseInt(row.dataset.delay || '0', 10);
          var t = setTimeout(function() { row.classList.add('visible'); }, delay);
          animTimers.push(t);
        });
        card.querySelectorAll('.sl-step').forEach(function(step) {
          var delay = parseInt(step.dataset.delay || '0', 10);
          var completeAt = step.dataset.complete ? parseInt(step.dataset.complete, 10) : 0;
          var t1 = setTimeout(function() { step.classList.add('visible'); }, delay);
          animTimers.push(t1);
          if (completeAt) {
            var t2 = setTimeout(function() {
              var spinner = step.querySelector('.sl-spinner');
              var check = step.querySelector('.sl-step-check');
              if (spinner) spinner.style.display = 'none';
              if (check) check.style.display = 'block';
            }, completeAt);
            animTimers.push(t2);
          }
        });
        card.querySelectorAll('.sl-step-detail').forEach(function(d) {
          var delay = parseInt(d.dataset.delay || '0', 10);
          var t = setTimeout(function() { d.classList.add('visible'); }, delay);
          animTimers.push(t);
        });
      }

      function cycle() {
        // The front card index
        var frontIdx = order[0];
        var frontCard = cards[frontIdx];

        // Fly out the front card
        frontCard.classList.add('deck-exit');

        setTimeout(function() {
          // Rotate order: move front to back
          order.push(order.shift());
          resetCard(frontCard);
          assignPositions();

          // Animate the new front card
          var newFrontIdx = order[0];
          resetCard(cards[newFrontIdx]);
          setTimeout(function() { animateCard(cards[newFrontIdx]); }, 100);
        }, 500);
      }

      // Initial setup
      assignPositions();
      cards.forEach(function(c) { resetCard(c); });
      animateCard(cards[order[0]]);

      setInterval(cycle, CARD_DISPLAY_TIME);
    })();

    // Thinking status animation
    (function() {
      const container = document.getElementById('thinking-text');
      const items = container.querySelectorAll('span');
      let current = 0;
      items[0].classList.add('active');
      setInterval(function() {
        items[current].classList.remove('active');
        current = (current + 1) % items.length;
        items[current].classList.add('active');
      }, 2500);
    })();
  </script>

</body>
</html>
